{% extends "base.html" %}
{% load form_tags %}
{% block title %}My Tasks{% endblock %}

{% block content %}
<div class="card shadow-sm">
  <div class="card-body">
    <h3 class="card-title mb-3">My To-Do List</h3>

    <form method="POST" class="d-flex mb-3">
      {% csrf_token %}
      {{ form.title|add_class:"form-control me-2" }}
      <button class="btn btn-primary">Add Task</button>
    </form>

    <ul class="list-group">
      {% for task in tasks %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <a href="{% url 'toggle' task.id %}" class="text-decoration-none {% if task.completed %}text-muted text-decoration-line-through{% endif %}">
            {{ task.title }}
          </a>
          <a href="{% url 'delete' task.id %}" class="btn btn-sm btn-danger">Delete</a>
        </li>
      {% empty %}
        <li class="list-group-item text-center text-muted">No tasks yet.</li>
      {% endfor %}
    </ul>
  </div>
</div>
{% endblock %}
